{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\setoc\\\\uwbootcamp\\\\react-app-employee-management-system\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\setoc\\\\uwbootcamp\\\\react-app-employee-management-system\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\setoc\\\\uwbootcamp\\\\react-app-employee-management-system\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\setoc\\\\uwbootcamp\\\\react-app-employee-management-system\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import API from\"../utils/API\";import Container from\"../components/Container\";import SearchForm from\"../components/SearchForm\";import Card from\"../components/Card\";import Alert from\"../components/Alert\";import UserCard from\"../components/UserCard\";var Search=/*#__PURE__*/function(_Component){_inherits(Search,_Component);var _super=_createSuper(Search);function Search(){var _this;_classCallCheck(this,Search);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={search:\"\",employees:[],results:[],error:\"\"};_this.handleInputChange=function(event){_this.setState({search:event.target.value});};_this.handleFormSubmit=function(event){event.preventDefault();API.getUsers().then(function(res){if(res.data.status===\"error\"){throw new Error(res.data.message);}//filter by selected employee\nvar employeeRes=res.data.results.filter(function(employee){return\"\".concat(employee.name.last,\", \").concat(employee.name.first)===_this.state.search;});_this.setState({results:employeeRes,error:\"\",search:\"\"});}).catch(function(err){return _this.setState({error:err.message});});};return _this;}_createClass(Search,[{key:\"componentDidMount\",// When the component mounts, get a list of all available employees and update this.state.employees\nvalue:function componentDidMount(){var _this2=this;API.getUsers().then(function(res){if(res.data.status===\"error\"){throw new Error(res.data.results);}_this2.setState({employees:res.data.results,error:\"\"});}).catch(function(err){return _this2.setState({error:err.message});});}// Set target employee\n},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,{style:{minHeight:\"80%\"}},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-center\"},\"Search Employee\"),/*#__PURE__*/React.createElement(Alert,{type:\"danger\",style:{opacity:this.state.error?1:0,marginBottom:10}},this.state.error),/*#__PURE__*/React.createElement(SearchForm,{handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange,employees:this.state.employees}),/*#__PURE__*/React.createElement(Card,{results:this.state.results.length>0?this.state.results[0]:null}),/*#__PURE__*/React.createElement(UserCard,{results:this.state.results.length>0?this.state.results[0]:null})));}}]);return Search;}(Component);export default Search;","map":{"version":3,"sources":["C:/Users/setoc/uwbootcamp/react-app-employee-management-system/src/pages/Search.js"],"names":["React","Component","API","Container","SearchForm","Card","Alert","UserCard","Search","state","search","employees","results","error","handleInputChange","event","setState","target","value","handleFormSubmit","preventDefault","getUsers","then","res","data","status","Error","message","employeeRes","filter","employee","name","last","first","catch","err","minHeight","opacity","marginBottom","length"],"mappings":"wuBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,GAAP,KAAgB,cAAhB,CACA,MAAOC,CAAAA,SAAP,KAAsB,yBAAtB,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CACA,MAAOC,CAAAA,IAAP,KAAiB,oBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,qBAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,C,GAEMC,CAAAA,M,2TACJC,K,CAAQ,CACNC,MAAM,CAAE,EADF,CAENC,SAAS,CAAE,EAFL,CAGNC,OAAO,CAAE,EAHH,CAINC,KAAK,CAAE,EAJD,C,OAoBRC,iB,CAAoB,SAAAC,KAAK,CAAI,CAC3B,MAAKC,QAAL,CAAc,CAAEN,MAAM,CAAEK,KAAK,CAACE,MAAN,CAAaC,KAAvB,CAAd,EACD,C,OAGDC,gB,CAAmB,SAAAJ,KAAK,CAAI,CAC1BA,KAAK,CAACK,cAAN,GAEAlB,GAAG,CAACmB,QAAJ,GACGC,IADH,CACQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,IAAJ,CAASC,MAAT,GAAoB,OAAxB,CAAiC,CAC/B,KAAM,IAAIC,CAAAA,KAAJ,CAAUH,GAAG,CAACC,IAAJ,CAASG,OAAnB,CAAN,CACD,CACD;AACA,GAAIC,CAAAA,WAAW,CAAGL,GAAG,CAACC,IAAJ,CAASZ,OAAT,CAAiBiB,MAAjB,CAAwB,SAAAC,QAAQ,CAAI,CACpD,MAAO,UAAIA,QAAQ,CAACC,IAAT,CAAcC,IAAlB,cAA2BF,QAAQ,CAACC,IAAT,CAAcE,KAAzC,IAAsD,MAAKxB,KAAL,CAAWC,MAAxE,CACD,CAFiB,CAAlB,CAGA,MAAKM,QAAL,CAAc,CAAEJ,OAAO,CAAEgB,WAAX,CAAwBf,KAAK,CAAE,EAA/B,CAAoCH,MAAM,CAAE,EAA5C,CAAd,EACD,CAVH,EAWGwB,KAXH,CAWS,SAAAC,GAAG,QAAI,OAAKnB,QAAL,CAAc,CAAEH,KAAK,CAAEsB,GAAG,CAACR,OAAb,CAAd,CAAJ,EAXZ,EAYD,C,6DAjCD;kCACoB,iBAClBzB,GAAG,CAACmB,QAAJ,GACGC,IADH,CACQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,IAAJ,CAASC,MAAT,GAAoB,OAAxB,CAAiC,CAC/B,KAAM,IAAIC,CAAAA,KAAJ,CAAUH,GAAG,CAACC,IAAJ,CAASZ,OAAnB,CAAN,CACD,CACD,MAAI,CAACI,QAAL,CAAc,CAAEL,SAAS,CAAEY,GAAG,CAACC,IAAJ,CAASZ,OAAtB,CAA+BC,KAAK,CAAE,EAAtC,CAAd,EACD,CANH,EAOGqB,KAPH,CAOS,SAAAC,GAAG,QAAI,CAAA,MAAI,CAACnB,QAAL,CAAc,CAAEH,KAAK,CAAEsB,GAAG,CAACR,OAAb,CAAd,CAAJ,EAPZ,EAQD,CAED;uCAwBS,CACP,mBACE,4CACE,oBAAC,SAAD,EAAW,KAAK,CAAE,CAAES,SAAS,CAAE,KAAb,CAAlB,eACE,0BAAI,SAAS,CAAC,aAAd,oBADF,cAEE,oBAAC,KAAD,EACE,IAAI,CAAC,QADP,CAEE,KAAK,CAAE,CAAEC,OAAO,CAAE,KAAK5B,KAAL,CAAWI,KAAX,CAAmB,CAAnB,CAAuB,CAAlC,CAAqCyB,YAAY,CAAE,EAAnD,CAFT,EAIG,KAAK7B,KAAL,CAAWI,KAJd,CAFF,cAQE,oBAAC,UAAD,EACE,gBAAgB,CAAE,KAAKM,gBADzB,CAEE,iBAAiB,CAAE,KAAKL,iBAF1B,CAGE,SAAS,CAAE,KAAKL,KAAL,CAAWE,SAHxB,EARF,cAaE,oBAAC,IAAD,EAAM,OAAO,CAAE,KAAKF,KAAL,CAAWG,OAAX,CAAmB2B,MAAnB,CAA4B,CAA5B,CAAgC,KAAK9B,KAAL,CAAWG,OAAX,CAAmB,CAAnB,CAAhC,CAAwD,IAAvE,EAbF,cAcE,oBAAC,QAAD,EAAU,OAAO,CAAE,KAAKH,KAAL,CAAWG,OAAX,CAAmB2B,MAAnB,CAA4B,CAA5B,CAAgC,KAAK9B,KAAL,CAAWG,OAAX,CAAmB,CAAnB,CAAhC,CAAwD,IAA3E,EAdF,CADF,CADF,CAoBD,C,oBAjEkBX,S,EAoErB,cAAeO,CAAAA,MAAf","sourcesContent":["import React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport Container from \"../components/Container\";\nimport SearchForm from \"../components/SearchForm\";\nimport Card from \"../components/Card\";\nimport Alert from \"../components/Alert\";\nimport UserCard from \"../components/UserCard\";\n\nclass Search extends Component {\n  state = {\n    search: \"\",\n    employees: [],\n    results: [],\n    error: \"\"\n  };\n\n  // When the component mounts, get a list of all available employees and update this.state.employees\n  componentDidMount() {\n    API.getUsers()\n      .then(res => {\n        if (res.data.status === \"error\") {\n          throw new Error(res.data.results);\n        }\n        this.setState({ employees: res.data.results, error: \"\" });\n      })\n      .catch(err => this.setState({ error: err.message }));\n  }\n\n  // Set target employee\n  handleInputChange = event => {\n    this.setState({ search: event.target.value });\n  };\n\n  // Populate results for target employee\n  handleFormSubmit = event => {\n    event.preventDefault();\n    \n    API.getUsers()\n      .then(res => {\n        if (res.data.status === \"error\") {\n          throw new Error(res.data.message);\n        }\n        //filter by selected employee\n        let employeeRes = res.data.results.filter(employee => {\n          return (`${employee.name.last}, ${employee.name.first}`) === this.state.search;\n        });\n        this.setState({ results: employeeRes, error: \"\" , search: \"\"});\n      })\n      .catch(err => this.setState({ error: err.message }));\n  };\n\n\n  render() {\n    return (\n      <div>\n        <Container style={{ minHeight: \"80%\" }}>\n          <h1 className=\"text-center\">Search Employee</h1>\n          <Alert\n            type=\"danger\"\n            style={{ opacity: this.state.error ? 1 : 0, marginBottom: 10 }}\n          >\n            {this.state.error}\n          </Alert>\n          <SearchForm\n            handleFormSubmit={this.handleFormSubmit}\n            handleInputChange={this.handleInputChange}\n            employees={this.state.employees}\n          />\n          <Card results={this.state.results.length > 0 ? this.state.results[0] : null} />\n          <UserCard results={this.state.results.length > 0 ? this.state.results[0] : null}/>    \n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default Search;\n"]},"metadata":{},"sourceType":"module"}